submitBtn.addEventListener("click", ()=>{
  const inputEl = document.getElementById("student-input");
  const input = inputEl.value.trim();
  if(!input) return;

  const scene = scenes[currentScene];
  const check = checkPass(scene,input);

  if(check.chaos){
    // Chaos gremlin gets its own class and style
    resultEl.classList.add("chaos");       // adds big red + shake
    resultEl.innerHTML = check.feedback;   // includes emoji above text
    return;
  }

  // If not chaos, remove chaos class
  resultEl.classList.remove("chaos");
  resultEl.style.color = "#047857";  // green for success
  resultEl.style.fontWeight = "bold";
  resultEl.style.fontSize = "16px";

  feedbackEl.innerHTML = check.feedback;

  if(check.pass){
    resultEl.textContent="âœ… Success! You showed the perfect amount of politeness and passed this scene.";
    currentScene++;
    if(currentScene < scenes.length){ setTimeout(updateScene,1500); }
    else{ resultEl.textContent+=" All scenes complete!"; }
  }
});
